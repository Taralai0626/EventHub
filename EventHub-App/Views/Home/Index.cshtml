
@{
    ViewData["Title"] = "Home Page";
}

<body onload="initialize()">

    <h1>Don't know where to go? </h1>
    <h2>input your city and check out the list of suggested things!</h2>
      <form action="/" name="address" method="GET">
        <!-- <label for="address">Search Your City</label> -->
        <input id="address" name="address" type="text" />
        <input type="submit" value="Search" onclick="codeAddress()" class="btn btn-secondary btn-lg" />
      </form>

    <h3>Current Event</h3>

    <!-- <div class="main">
    <div class="container"> -->
    <!-- FOR TICKETMASTER & googleapis -->
    <p id="location">location there</p>
    <div id="map"></div>
    <div id="events"></div>
    
  

    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAq_BgjdIrt6XMzDT5J7RPmMovum-hne1E&callback=initMap&libraries=places&v=weekly"
            defer></script>

    <script>
        
        function initMap() {
             var map = new google.maps.Map(document.getElementById("map"), {
                 center: { lat: -33.8688, lng: 151.2195 },
                 zoom: 13
             });
             var input = document.getElementById("pac-input");
             // Specify just the place data fields that you need.
             var autocomplete = new google.maps.places.Autocomplete(input, {
                 fields: ["place_id", "geometry", "formatted_address", "name"]
             });
             autocomplete.bindTo("bounds", map);
             map.controls[google.maps.ControlPosition.TOP_LEFT].push(input);
             var infowindow = new google.maps.InfoWindow();
             var infowindowContent = document.getElementById("infowindow-content");
             infowindow.setContent(infowindowContent);
             var marker = new google.maps.Marker({ map: map });
             marker.addListener("click", function () {
                 infowindow.open(map, marker);
             });
             autocomplete.addListener("place_changed", function () {
                 infowindow.close();
                 var place = autocomplete.getPlace();
                 if (!place.geometry || !place.geometry.location) {
                     return;
                 }
                 if (place.geometry.viewport) {
                     map.fitBounds(place.geometry.viewport);
                 }
                 else {
                     map.setCenter(place.geometry.location);
                     map.setZoom(17);
                 }
                 // Set the position of the marker using the place ID and location.
                 // ts-ignore This should be in typings/googlemaps.
                 marker.setPlace({
                     placeId: place.place_id,
                     location: place.geometry.location
                 });
                 marker.setVisible(true);
                 infowindowContent.children.namedItem("place-name").textContent = place.name;
                infowindowContent.children.namedItem("place-id").textContent = place.place_id;
                 infowindowContent.children.namedItem("place-address").textContent = place.formatted_address;
                 infowindowContent.children.namedItem("place-address").textContent = place.geometry.lat;
                   console.log(place);
                 infowindow.open(map, marker);


             });


         }
         window.initMap = initMap;

         google.maps.event.addDomListener(window, 'load', initMap);
    </script>
</body>